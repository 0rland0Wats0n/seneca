<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,900" rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
      crossorigin="anonymous">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="/assets/css/index.css">

    <title>Seneca</title>
  </head>
  <body class="body__home">
    <nav data-state="closed">
      <img src="/assets/images/seneca-logo.png" alt="Seneca Logo" />
      <div class="nav__list" data-state="closed">
        <a href="#" title="Home" class="home__only_hamburger">home</a>
        <a href="/pages/about.html" title="About Us" class="home__only_hamburger">about us</a>
        <a href="/pages/trainings.html" title="Trainings" class="home__only_hamburger">training</a>
        <a href="/pages/adopt.html" title="Adopt">adopt</a>
        <a href="/pages/events.html" title="Events" class="home__only_hamburger">events</a>
        <a href="/pages/donate.html" title="Donate">donate</a>
        <a href="/pages/contact.html" title="Contact" class="home__only_hamburger">contact</a>
        <a href="#work-with-us" class="home__only_main smooth_link">work with us</a>
      </div>
      <span class="nav__toggle" data-state="closed">
        <span></span>
      </span>
    </nav>
    <main>
      <span class="logo">
        <img src="/assets/images/seneca-logo.png" alt="Seneca Logo" />
      </span>
      <section>
        <span class="home__cta">
          <h4 class="type__spacey type__uppercase type__color_white">unconditional care</h4>
          <a href="#content" class="smooth_link">
            <i><img src="/assets/images/chevron_with_circle_down@3x.png" alt="" /></i>
          </a>
        </span>
        <div class="home__pillar" data-state="unready">
          <div class="revealer"></div>
          <div class="home__pillar_image parallax" style="background-image: url(assets/images/pillar__innovation.jpg)"></div>
          <div class="home__pillar_content bg__yellow">
            <h4 class="type__color_white type__uppercase">innovation</h4>
            <span class="p__group">
              <p>The path of the righteous man is beset on all sides by the iniquities of the selfish and the tyranny of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the valley of darkness, for he is truly his brother's keeper and the finder of lost children. And I will strike down upon thee with great vengeance and furious anger those who would attempt to poison and destroy My brothers. And you will know My name is the Lord when I lay My vengeance upon thee.</p>
              <p>Now that there is the Tec-9, a crappy spray gun from South Miami. This gun is advertised as the most popular gun in American crime. Do you believe that shit? It actually says that in the little book that comes with it: the most popular gun in American crime. Like they're actually proud of that shit. </p>
            </span>
            <a href="#" class="button button__squarer button__bold">innovation</a>
          </div>
          <span class="pillar__close">
            <i class="fas fa-times"></i>
          </span>
        </div>
        <div class="home__pillar" data-state="unready">
          <div class="revealer"></div>
          <div class="home__pillar_image parallax" style="background-image: url(assets/images/pillar__education.jpg)"></div>
          <div class="home__pillar_content bg__red">
            <h4 class="type__color_white type__uppercase">education</h4>
            <span class="p__group">
              <p>The path of the righteous man is beset on all sides by the iniquities of the selfish and the tyranny of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the valley of darkness, for he is truly his brother's keeper and the finder of lost children. And I will strike down upon thee with great vengeance and furious anger those who would attempt to poison and destroy My brothers. And you will know My name is the Lord when I lay My vengeance upon thee.</p>
              <p>Now that there is the Tec-9, a crappy spray gun from South Miami. This gun is advertised as the most popular gun in American crime. Do you believe that shit? It actually says that in the little book that comes with it: the most popular gun in American crime. Like they're actually proud of that shit. </p>
            </span>
            <a href="#" class="button button__squarer button__bold">education</a>
          </div>
          <span class="pillar__close">
            <i class="fas fa-times"></i>
          </span>
        </div>
        <div class="home__pillar" data-state="unready">
          <div class="revealer"></div>
          <div class="home__pillar_image parallax" style="background-image: url(assets/images/pillar__mental_health.jpg)"></div>
          <div class="home__pillar_content bg__green">
            <h4 class="type__color_white type__uppercase">mental health</h4>
            <span class="p__group">
              <p>The path of the righteous man is beset on all sides by the iniquities of the selfish and the tyranny of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the valley of darkness, for he is truly his brother's keeper and the finder of lost children. And I will strike down upon thee with great vengeance and furious anger those who would attempt to poison and destroy My brothers. And you will know My name is the Lord when I lay My vengeance upon thee.</p>
              <p>Now that there is the Tec-9, a crappy spray gun from South Miami. This gun is advertised as the most popular gun in American crime. Do you believe that shit? It actually says that in the little book that comes with it: the most popular gun in American crime. Like they're actually proud of that shit. </p>
            </span>
            <a href="#" class="button button__squarer button__bold">mental health</a>
          </div>
          <span class="pillar__close">
            <i class="fas fa-times"></i>
          </span>
        </div>
        <div class="home__pillar" data-state="unready">
          <div class="revealer"></div>
          <div class="home__pillar_image parallax" style="background-image: url(assets/images/pillar__permanence.jpg)"></div>
          <div class="home__pillar_content bg__blue">
            <h4 class="type__color_white type__uppercase">permanence</h4>
            <span class="p__group">
              <p>The path of the righteous man is beset on all sides by the iniquities of the selfish and the tyranny of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the valley of darkness, for he is truly his brother's keeper and the finder of lost children. And I will strike down upon thee with great vengeance and furious anger those who would attempt to poison and destroy My brothers. And you will know My name is the Lord when I lay My vengeance upon thee.</p>
              <p>Now that there is the Tec-9, a crappy spray gun from South Miami. This gun is advertised as the most popular gun in American crime. Do you believe that shit? It actually says that in the little book that comes with it: the most popular gun in American crime. Like they're actually proud of that shit. </p>
            </span>
            <a href="#" class="button button__squarer button__bold">permanence</a>
          </div>
          <span class="pillar__close">
            <i class="fas fa-times"></i>
          </span>
        </div>
      </section>
      <section id="content" class="home__content">
        <div class="home__content_item" data-in-view="false">
          <span>
            <img src="/assets/images/seneca_over_color_04.jpg" alt="" />
          </span>
          <div class="content_item__content">
            <h4>Adopt</h4>
            <p>Now that we know who you are, I know who I am. I'm not a mistake! It all makes sense! In a comic, you know how you can tell who the arch-villain's going to be? He's the exact opposite of the hero. And most times they're friends, like you and me! I should've known way back when... You know why, David? Because of the kids. They called me Mr Glass.</p>
            <a href="/pages/adopt.html" class="button">learn more</a>
          </div>
        </div>
        <div class="home__content_item reverse" data-in-view="false">
          <span>
            <img src="/assets/images/seneca_over_color_05.jpg" alt="" />
          </span>
          <div class="content_item__content">
            <h4>Donate</h4>
            <p>Now that we know who you are, I know who I am. I'm not a mistake! It all makes sense! In a comic, you know how you can tell who the arch-villain's going to be? He's the exact opposite of the hero. And most times they're friends, like you and me! I should've known way back when... You know why, David? Because of the kids. They called me Mr Glass.</p>
            <a href="/pages/donate.html" class="button">learn more</a>
          </div>
        </div>
        <div id="work-with-us" class="home__content_item" data-in-view="false">
          <span>
            <img src="/assets/images/seneca_over_color_06.jpg" alt="" />
          </span>
          <div class="content_item__content">
            <h4>Work With Us</h4>
            <p>Now that we know who you are, I know who I am. I'm not a mistake! It all makes sense! In a comic, you know how you can tell who the arch-villain's going to be? He's the exact opposite of the hero. And most times they're friends, like you and me! I should've known way back when... You know why, David? Because of the kids. They called me Mr Glass.</p>
            <a href="#" class="button">learn more</a>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <img src="/assets/images/seneca-logo.png" alt="Seneca Logo" />
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="/assets/js/index.js"></script>
    <script>
      Math.sign = Math.sign || function (x) {
        x = +x;
        if (x === 0 || isNaN(x)) {
          return Number(x);
        }
        return x > 0 ? 1 : -1;
      }
      
      // forEach polyfill
      if (window.NodeList && !NodeList.prototype.forEach) {
          NodeList.prototype.forEach = function (callback, thisArg) {
              thisArg = thisArg || window;
              for (var i = 0; i < this.length; i++) {
                  callback.call(thisArg, this[i], i, this);
              }
          };
      }

      function isElementInViewport(el, p) {
        var rect = el.getBoundingClientRect();
        var p = p || 1.25

        if (typeof jQuery === "function" && el instanceof jQuery) {
          el = el[0];
        }
        
        return rect.bottom > 0 &&
          rect.right > 0 &&
          rect.left < (window.innerWidth || document.documentElement.clientWidth) &&
          rect.top*p < (window.innerHeight || document.documentElement.clientHeight);
      }
    </script>
    <script>
      var homeBody = document.querySelector(".body__home");

      window.addEventListener("scroll", function() {        
        if (isElementInViewport(document.getElementById("content"), 2) && window.innerWidth > 992) {
          if (!homeBody.classList.contains("show_nav"))
            homeBody.classList.add("show_nav");
        } else {
          if (!document.querySelector("nav[data-state='open']"))
            homeBody.classList.remove("show_nav");
        }

        document.querySelectorAll(".home__content_item").forEach(function(el) {
          if (isElementInViewport(el))
            el.setAttribute("data-in-view", "true");
        });

        if (window.innerWidth < 768) {
          var scrolled = $(window).scrollTop();
          $('.parallax').each(function (index, element) {
            var initY = $(this).offset().top;
            var height = $(this).innerHeight();
            var endY = initY + $(this).height();
            var visible = isElementInViewport(this, 1);

            if (visible) {
              var diff = scrolled - initY;
              var ratio = Math.round((diff / height) * 100);
              $(this).css('background-position', 'center ' + parseInt((ratio)) + 'px');
            }
          })
        }
      });

      document.querySelectorAll(".pillar__close").forEach(function(closeButton) {
        closeButton.addEventListener("click", function(e) {
          e.currentTarget.parentElement.classList.remove("active");
          e.currentTarget.parentElement.classList.add("inactive");
        });
      });

      var hoverTime;

      document.onreadystatechange = function() {
        if (document.readyState === "complete") {
          if (isElementInViewport(document.getElementById("content"), 2) && window.innerWidth > 992) {
            if (!homeBody.classList.contains("at_bottom"))
              homeBody.classList.add("show_nav");
          } else {
            homeBody.classList.remove("show_nav");
          }
          
          document.querySelectorAll(".home__pillar[data-state='unready']").forEach(function(pillar) {
            pillar.setAttribute("data-state", "ready");
          });

          document.querySelectorAll(".home__content_item").forEach(function (el) {
            if (isElementInViewport(el))
              el.setAttribute("data-in-view", "true");
          });

          document.querySelectorAll(".smooth_link").forEach(function (link) {
            link.addEventListener("click", function (e) {
              e.preventDefault();

              var el = e.currentTarget.getAttribute("href");

              $("html, body").animate({
                scrollTop: $(el).offset().top
              }, 500);
            })
          });
        }
      }

      document.querySelectorAll(".home__pillar_image").forEach(function(pillarImage) {
        pillarImage.addEventListener("mouseover", function(e) {
          var parent = e.currentTarget.parentElement;

          if (parent.classList.contains("active") || window.innerWidth < 992)
            return;

          hoverTime = setTimeout(function() {
            if (parent.classList.contains("inactive")) {
              parent.classList.remove("inactive");
              parent.classList.add("active");
            } else {
              parent.classList.add("active");
            }
          }, 700)
        });

        pillarImage.addEventListener("mouseleave", function(e) {
          clearTimeout(hoverTime);
        });

        pillarImage.addEventListener("click", function(e) {
          clearTimeout(hoverTime);

          var parent = e.currentTarget.parentElement;

          if (parent.classList.contains("active"))
            return;
          
          if (parent.classList.contains("inactive")) {
            parent.classList.remove("inactive");
            parent.classList.add("active");
          } else {
            parent.classList.add("active");
          }
        });
      })
    </script>
  </body>
</html>